这个图展示了**基于WebWeaver框架完成“多模态数据融合驱动的体育智能辅导系统构建与应用”报告的全流程**，分为“搜索规划→大纲优化→写作生成”三个核心阶段，流程如下：


### 一、初始阶段：接收Query并启动思考
用户输入Query：“开展关于‘多模态数据融合驱动的体育智能辅导与学习指导系统的构建与应用’的研究并准备报告”。


### 二、第一阶段：搜索规划（Think→Actions→Observations）
1. **Think（思考搜索需求）**：
   明确目标：“需要对‘系统的构建与应用’进行全面研究”。

2. **Actions（执行操作）**：
   - 触发`Search`：搜索关键词为“sports intelligent tutoring system multimodal data fusion”；
   - 同步生成`Outline`（初始大纲）；
   - 完成后暂不`Terminate`（不终止流程）。

3. **Observations（记录结果）**：
   - 将搜索到的资料整理为`Summary`（摘要），存入`Memory Bank`（记忆库）；
   - 记忆库中以“ID_1、ID_2”等标识存储资料，包含“Summary（文章内容）+ Evidence（证据/来源）”。


### 三、第二阶段：大纲优化（多轮迭代）
通过**Round 1、Round 2**等多轮优化，完善大纲：
- **Round 1（初始大纲）**：
  大纲结构为“1. Construction and Application → 1.1 Introduction → 1.1.1 Definition + 1.1.2 Role of Multimodal Data Fusion”，并关联对应的引用（如`citation_id`）。
- **Round 2（优化后大纲）**：
  在原有基础上补充细节，例如新增“1.1.2 B. Evolution from Traditional Systems”，同时更新引用（如`citation_id_3/citation`），使大纲更具体、层次更清晰。


### 四、第三阶段：写作生成（Think→Actions→Observations）
1. **Think（思考写作需求）**：
   明确目标：“需要开始撰写一份全面的报告，先从检索资料开始”。

2. **Actions（执行操作）**：
   - 触发`Retrieve`：从记忆库中检索标识为“id_1、id_2、id_3”的资料；
   - 基于检索结果执行`Write`（分章节写作）；
   - 完成后`Terminate`（终止流程）。

3. **Observations（记录结果）**：
   - 提取`Evidence`（如“ID_1对应的体育新闻网页”）作为支撑；
   - 分章节完成写作：
     - **Round 1**：撰写“1. Construction and Application → 1.1 Introduction → 1.1.1 Definition”；
     - **Round 2**：撰写“2. Theoretical Foundations → 2.1 Intelligent Tutoring Systems (ITS) Framework”。


### 五、最终输出
完成所有章节写作后，生成最终的**Report**（报告）。

<img width="850" height="469" alt="image" src="https://github.com/user-attachments/assets/553c0459-5455-4f39-aa2f-f6a3ffda0b86" />
